{% extends "base.html" %}
{% block content %}
<div class="max-w-xl mx-auto bg-white p-6 rounded-2xl shadow-md">
    <h1 class="text-2xl font-bold mb-4 text-center">Tambah Mobil</h1>
    
    <form method="post" class="space-y-4">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div>
            <label>{{ form.merk.label_tag }}</label>
            {{ form.merk }}
        </div>

        <div>
            <label>{{ form.model.label_tag }}</label>
            {{ form.model }}
        </div>

        <div>
            <label>{{ form.tahun.label_tag }}</label>
            {{ form.tahun }}
        </div>

        <div>
            <label>{{ form.harga_pasar.label_tag }}</label>
            {{ form.harga_pasar }}
        </div>

        <div>
            <label class="inline-flex items-center space-x-2">
                {{ form.dibeli_dengan_bank }} <span>{{ form.dibeli_dengan_bank.label }}</span>
            </label>
        </div>

        <div class="bank-field-group space-y-4">
            <div>
                <label>{{ form.dana_bank.label_tag }}</label>
                {{ form.dana_bank }}
            </div>
            <div>
                <label>{{ form.suku_bunga.label_tag }}</label>
                {{ form.suku_bunga }}
            </div>
        </div>

        <div class="flex justify-between items-center mt-6">
            <a href="{% url 'car_list' %}" class="text-blue-600 hover:underline">‚Üê Kembali</a>
            <button type="submit" class="btn btn-primary">Simpan</button>
        </div>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const checkbox = document.querySelector('input[name="dibeli_dengan_bank"]');
        const bankFields = document.querySelector('.bank-field-group');

        function toggleBankFields() {
            if (checkbox && bankFields) {
                bankFields.style.display = checkbox.checked ? 'block' : 'none';
            }
        }

        if (checkbox) {
            checkbox.addEventListener('change', toggleBankFields);
            toggleBankFields();
        }
    });
</script>
{% endblock content %}
